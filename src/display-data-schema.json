{
  "$id": "https://pyramid.puzzle/display-data-schema.json",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "The Great Pyramid Puzzle Display",
  "description": "Define the face and tile positions used in displaying the Pyramid Puzzles.",

  "definitions": {
    "center": {
      "description": "The center point of a face or tile.",
      "type": "object",
      "additionalProperties": false,
      "required": ["x", "y", "r"],
      "properties": {
        "x": {
          "description": "X coordinate.",
          "type": "number"
        },
        "y": {
          "description": "Y coordinate.",
          "type": "number"
        },
        "r": {
          "description": "Rotation required.",
          "type": "number"
        }
      }
    }
  },

  "type": "object",
  "additionalProperties": true,
  "required": ["triangle", "segments", "faceScale", "facePositions", "tileScale", "tilePositions"],
  "properties": {
    "triangle": {
      "description": "An SVG path string defining a base unit triangle.",
      "type": "string"
    },
    "segments": {
      "description": "An array of SVG path strings defining the segments on a tile.",
      "type": "array",
      "minItems": 12,
      "maxItems": 12,
      "uniqueItems": true,
      "items": {
        "type": "string"
      }
    },
    "faceScale": {
      "description": "A scaling factor used when displaying a face.",
      "type": "number"
    },
    "facePositions": {
      "description": "The face position layout of the tetrahedron.",
      "type": "array",
      "minItems": 4,
      "maxItems": 4,
      "uniqueItems": true,
      "items": {
        "type": "object",
        "additionalProperties": false,
        "required": ["id", "center"],
        "properties": {
          "id": {
            "description": "The id of the face.",
            "type": "string"
          },
          "center": {
            "$ref": "#/definitions/center"
          }
        }
      }
    },
    "tileScale": {
      "description": "A scaling factor used when displaying a tile.",
      "type": "number"
    },
    "tilePositions": {
      "description": "The tiles positions on a face of the tetrahedron.",
      "type": "array",
      "minItems": 1,
      "maxItems": 9,
      "uniqueItems": true,
      "items": {
        "type": "object",
        "additionalProperties": false,
        "required": ["id", "center"],
        "properties": {
          "id": {
            "description": "The id of the tile position.",
            "type": "string"
          },
          "center": {
            "$ref": "#/definitions/center"
          }
        }
      }
    }
  }
}
